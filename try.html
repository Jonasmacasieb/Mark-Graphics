@app.route('/get-images/<category>')
def get_images_by_category(category):
    if category not in CATEGORIES:
        return jsonify([])

    folder_path = os.path.join(BASE_FOLDER, category)
    images = [
        f"/images/{category}/{img}" for img in os.listdir(folder_path)
        if img.lower().endswith(('.jpg', '.jpeg', '.png', '.gif'))
    ]
    return jsonify(images)


    function loadCategory(category) {
  fetch(`/get-images/${category}`)
    .then(res => res.json())
    .then(images => {
      const productList = document.getElementById('product-list');
      productList.innerHTML = ''; // Clear previous
      images.forEach((imgPath, index) => {
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          <img src="${imgPath}" alt="${category} ${index + 1}" width="150">
          <h3>${category} ${index + 1}</h3>
        `;
        productList.appendChild(card);
      });
    });
}

// Example: load hoodies on page load
loadCategory('hoodies');
